{% extends "base.html" %}

{% block stylesheets %}
    <!-- Icons for chevrons etc, TODO replace by FA -->
    <link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css' rel='stylesheet'>
    {% load static %}
    <link href="{% static 'css/calendar.css' %}" rel="stylesheet"/>
{% endblock %}

{% block body %}
<section class="sidebar">
    <nav class="navbar bg-body-tertiary navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand" href="https://carpestudentem.be">
                <img src="https://www.carpestudentem.be/wp-content/uploads/2023/09/bubulle.png" class="me-3" alt="carpestudentem" width="50"> Agenda du Carpe
            </a>
        </div>
    </nav>
    <div class="accordion" id="sidebar-accordion">
        <!-- Categories selections -->
        <section class="categories accordion-item">
            <h2 class="accordion-header" id="heading-categories">
                <button data-mdb-collapse-init class="accordion-button" type="button" data-mdb-toggle="collapse"
                    data-mdb-target="#collapse-categories" aria-expanded="true" aria-controls="collapse-categories">
                    <i class="fa-solid fa-list me-2"></i> Catégories
                </button>
            </h2>
           <div id="collapse-categories" class="accordion-collapse collapse show" data-bs-parent="sidebar-accordion" aria-labelledby="heading-categories" data-mdb-parent="#sidebar-accordion">
                <div class="accordion-body">
                    {% for category in categories %}
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="{{ category.category }}" name="{{ category.category }}" id="checkbox-{{ category.category }}" checked/>
                        <label class="form-check-label" for="flexCheckChecked">{{ category.category }}<span class="dot" id="dot-{{ category.category }}"></span></label>
                    </div>
                    {% endfor %}
                </div>
           </div>
        </section>
        <section class="categories accordion-item">
            <h2 class="accordion-header" id="heading-places">
                <button data-mdb-collapse-init class="accordion-button" type="button" data-mdb-toggle="collapse"
                    data-mdb-target="#collapse-places" aria-expanded="false" aria-controls="collapse-places">
                    <i class="fa-solid fa-location-dot me-2"></i> Lieux
                </button>
            </h2>
           <div id="collapse-places" class="accordion-collapse collapse" data-bs-parent="sidebar-accordion" aria-labelledby="heading-places" data-mdb-parent="#sidebar-accordion">
                <div class="accordion-body">

                </div>
           </div>
        </section>
        <section class="categories accordion-item">
            <h2 class="accordion-header" id="heading-export">
                <button data-mdb-collapse-init class="accordion-button" type="button" data-mdb-toggle="collapse"
                    data-mdb-target="#collapse-export" aria-expanded="false" aria-controls="collapse-export">
                    <i class="fa-solid fa-file-export me-2"></i> Exporter vers un agenda
                </button>
            </h2>
           <div id="collapse-export" class="accordion-collapse collapse" data-bs-parent="sidebar-accordion" aria-labelledby="heading-export" data-mdb-parent="#sidebar-accordion">
                <div class="accordion-body">

                </div>
           </div>
        </section>
        <section class="categories accordion-item">
            <h2 class="accordion-header" id="heading-edit">
                <button data-mdb-collapse-init class="accordion-button" type="button" data-mdb-toggle="collapse"
                    data-mdb-target="#collapse-edit" aria-expanded="false" aria-controls="collapse-edit">
                    <i class="fa-solid fa-pen-to-square me-2"></i> Ajouter / Modifier / Supprimer un événement
                </button>
            </h2>
           <div id="collapse-edit" class="accordion-collapse collapse" data-bs-parent="sidebar-accordion" aria-labelledby="heading-edit" data-mdb-parent="#sidebar-accordion">
                <div class="accordion-body">
                    <a href="/add-event">Ajouter un événement</a><br>
                    <a href="/report-event">Demander la modification/suppression d'un événement</a><br>
                    <a href="/report-error">Signaler une erreur</a>
                </div>
           </div>
        </section>
    </div>
</section>
<!-- Calendar Container -->
<div id="calendar"></div>

{% endblock %}

{% block javascripts %}
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@fullcalendar/bootstrap5@6.1.15/index.global.min.js"></script>
<script>
    const categories = [];
    {% for category in categories %}categories.push("{{ category.category }}");{% endfor %}
</script>
<script src="{% static 'js/calendar.js' %}"></script>
{% endblock %}